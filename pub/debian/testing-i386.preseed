# http://hands.com/d-i/
# http://d-i.alioth.debian.org/manual/en.i386/apbs04.html
# http://d-i.alioth.debian.org/manual/example-preseed.txt
# http://www.debian.org/releases/stable/i386/apbs02.html.en
# http://askubuntu.com/questions/54809/how-can-i-remove-packages-using-preseed
# http://www.debian-administration.org/articles/394
# http://www.50ply.com/blog/2012/07/16/automating-debian-installs-with-preseed-and-puppet/

# auto=true preseed/url=http://192.168.0.4/deb/testing-i386.preseed

### Localization
d-i	debian-installer/locale	select	en_US.UTF-8
d-i	debian-installer/language	string	en_US:en
d-i	debian-installer/country	string	NL
d-i	localechooser/supported-locales	multiselect	

# Keyboard selection.
# keymap is an alias for keyboard-configuration/xkb-keymap
d-i	keyboard-configuration/xkb-keymap	select	us
keyboard-configuration	keyboard-configuration/xkb-keymap	select	us

d-i	anna/choose_modules	multiselect

# If non-free firmware is needed for the network or other hardware, you can
# configure the installer to always try to load it, without prompting. Or
# change to false to disable asking.
d-i hw-detect/load_firmware boolean true
d-i	hw-detect/select_modules	multiselect	usb-storage (USB storage)

bootstrap-base	base-installer/kernel/image	select	linux-image-686-pae
bootstrap-base	base-installer/initramfs-tools/driver-policy	select	most

#d-i base-installer/install-recommends boolean false
apt-mirror-setup	apt-setup/use_mirror	boolean	true
choose-mirror-bin	mirror/protocol	select	http
choose-mirror-bin	mirror/country	string	NL
choose-mirror-bin	mirror/codename	string	testing
choose-mirror-bin	mirror/http/mirror	select	ftp.nl.debian.org
choose-mirror-bin	mirror/http/hostname	string	ftp.nl.debian.org
choose-mirror-bin	mirror/http/proxy	string
choose-mirror-bin	mirror/suite	select	testing
choose-mirror-bin	mirror/http/countries	select	NL
choose-mirror-bin	mirror/http/directory	string	/debian/
d-i apt-setup/non-free boolean true
d-i apt-setup/contrib boolean true
d-i apt-setup/services-select multiselect security
d-i apt-setup/security_host string security.debian.org

user-setup-udeb	passwd/shadow	boolean	true
d-i passwd/root-login boolean true
d-i passwd/root-password password 1234
d-i passwd/root-password-again password 1234
d-i passwd/make-user boolean true
d-i passwd/user-fullname string user1
d-i passwd/username string user1
d-i passwd/user-password password 1234
d-i passwd/user-password-again password 1234
d-i user-setup/allow-password-weak boolean true
d-i user-setup/encrypt-home boolean false

d-i clock-setup/utc boolean true
d-i time/zone string Europe/Amsterdam
clock-setup	clock-setup/ntp	boolean	true
clock-setup	clock-setup/ntp-server	string	0.debian.pool.ntp.org

d-i	man-db/install-setuid	boolean	false

tasksel	tasksel/first	multiselect	
tasksel	tasksel/desktop	multiselect
tasksel	tasksel/tasks	multiselect

discover	discover/install_hw_packages	multiselect	virtualbox-ose-guest-x11

d-i pkgsel/include string openssh-server ca-certificates
# d-i pkgsel/include string openssh-server build-essential ca-certificates sudo xorg xfce4 xdg-utils desktop-base dmz-cursor-theme xfce4-cpugraph-plugin xfce4-terminal thunar-archive-plugin tar bzip2 zip unzip unrar-free ristretto scite xarchiver fonts-droid curl gtk2-engines-murrine htop mc localepurge subversion git php5-cli php5-curl cifs-utils

popularity-contest popularity-contest/participate boolean false

grub-installer	grub-installer/only_debian	boolean	true
#grub-installer	grub-installer/with_other_os	boolean	true

# Avoid that last message about the install being complete.
d-i finish-install/reboot_in_progress note

# This is how to make the installer shutdown when finished, but not
# reboot into the installed system.
#d-i debian-installer/exit/halt boolean true
# This will power off the machine instead of just halting it.
d-i debian-installer/exit/poweroff boolean true


# d-i preseed/late_command string chroot /target sh -c "wget --no-check-certificate https://pwlin.github.io/pub/debian/post-install.sh -O /root/post-install.sh && mv /root/.bashrc /root/.bashrc.org && cat /root/.bashrc.org /root/post-install.sh > /root/.bashrc && rm /root/post-install.sh"

